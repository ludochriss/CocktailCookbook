@model CocktailCookbook.ViewModels.TasksIndexViewModel

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Tasks</h1>

<p>
    <a class="btn cb-btn-primary" asp-action="Create">Create New</a>
    <a class="btn cb-btn-primary" asp-action="TaskManagement">Task Management</a>
</p>


<ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link cb-nav-tab active" id="pending-tab" data-bs-toggle="tab" data-bs-target="#pending" type="button" role="tab" aria-controls="pending" aria-selected="true">Pending Tasks</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link cb-nav-tab" id="completed-tab" data-bs-toggle="tab" data-bs-target="#completed" type="button" role="tab" aria-controls="completed" aria-selected="false">Completed Tasks</button>
    </li>

    <li class="nav-item" role="presentation">
        <button class="nav-link cb-nav-tab" id="daily-tab" data-bs-toggle="tab" data-bs-target="#daily" type="button" role="tab" aria-controls="daily" aria-selected="false">Daily Tasks</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link cb-nav-tab" id="weekly-tab" data-bs-toggle="tab" data-bs-target="#weekly" type="button" role="tab" aria-controls="weekly" aria-selected="false">Weekly Tasks</button>
    </li>
    @if (User.IsInRole("Barista"))
    {
        <li class="nav-item" role="presentation">
            <button class="nav-link cb-nav-tab" id="weekly-tab" data-bs-toggle="tab" data-bs-target="#weekly" type="button" role="tab" aria-controls="weekly" aria-selected="false">Cafe Tasks Tasks</button>
        </li>
    }
    
</ul>

<div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="pending" role="tabpanel" aria-labelledby="pending-tab">
        <partial name="~/Views/Shared/TaskPartials/_TasksPartial.cshtml" model="Model.PendingTasks" />
    </div>
    <div class="tab-pane fade" id="completed" role="tabpanel" aria-labelledby="completed-tab">
        <partial name="~/Views/Shared/TaskPartials/_CompletedTasksPartial.cshtml" model="Model.CompletedTasks" />
    </div>
    <div class="tab-pane fade" id="daily" role="tabpanel" aria-labelledby="daily-tab">
        <partial name="~/Views/Shared/TaskPartials/_DailyTasksPartial.cshtml" model="Model.DailyTasks" />
    </div>
    <div class="tab-pane fade" id="weekly" role="tabpanel" aria-labelledby="weekly-tab">
        <partial name="~/Views/Shared/TaskPartials/_WeeklyTasksPartial.cshtml" model="Model.WeeklyTasks" />
    </div>
    <div class="tab-pane fade" id="cafe" role="tabpanel" aria-labelledby="cafe-tab">
        <p>This is the cafe div</p>
    </div>

</div>

